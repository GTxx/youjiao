!function(){function e(e,r,t){var o,i=null,a=[],u=0;if("boolean"===$.type(r)&&(t=r),r="undefined"!==$.type(r)?r:{},t="undefined"!==$.type(t)?t:!1,void 0===g.rules[e])throw new Error('Uncorrect endpoint in urlFor("'+e+'", '+JSON.stringify(r)+")");if(o=$.map(r,function(e,n){return n}),$.each(g.rules[e],function(e,n){var r=!0,t=0;$.each(n.params,function(e,n){return-1===$.inArray(n,o)?(r=!1,!1):void 0}),r&&(t=parseFloat(n.params.length)/o.length,(t>u||null===i)&&(u=t,i=n.rule,a=n.params))}),!i)throw new Error('Uncorrect parameters in urlFor("'+e+'", '+JSON.stringify(r)+")");return $.each(o,function(e,t){$.inArray(t,a)>-1?i=i.replace(new RegExp("<[^:]*:?"+t+">"),r[t]):(-1===i.indexOf("?")&&(i+="?"),n(i,"?")||(i+="&"),i+=t+"="+r[t])}),t&&(i=g.domain+i),i}function n(e,n){return-1!==e.indexOf(n,e.length-n.length)}function r(e){if("undefined"==typeof g)throw new Error("Global variable g is not defined.");$.each(e,function(e,n){if(g.hasOwnProperty(e))throw new Error("The key '"+e+"' already exists in the global variable g.");g[e]=n})}$.ajaxSetup({beforeSend:function(e,n){/^(GET|HEAD|OPTIONS|TRACE)$/i.test(n.type)||e.setRequestHeader("X-CSRFToken",g.csrfToken)}});var t=new RegExp("<[^:]*:?([^>]+)>","g"),o=null;$.each(g.rules,function(e,n){$.each(n,function(e,n){for(n.params=[];null!==(o=t.exec(n.rule));)n.params.push(o[1])})}),window.urlFor=e,window.registerContext=r}();