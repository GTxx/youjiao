{% extends "user/info_base.html" %}

{% block userinfo_right_top %}
    <div>个人资料</div>
    <ul>
        <li><a class="{% if current_page.sub == 'info' %} active {% endif %}"
               href="{{ url_for('user_view.user_profile') }}">基本资料</a></li>
        <li><a href="#">头像设置</a></li>
        <li><a class="{% if current_page.sub == 'password' %} active {% endif %}"
               href="{{ url_for('user_view.modify_password') }}">密码修改</a></li>
    </ul>
{% endblock %}

{% block userinfo_content %}
    <div class="userinfo-content">
        <form action="" method="post" id="user-profile-form">
            <ul>
                {{ form.hidden_tag() }}
                <li>
                    <span>原密码:</span><input type="password" name="old_password"/>

                    <div class="form-invalid">{{ render_error(form.old_password) }}</div>
                </li>
                <li>
                    <span>新密码:</span><input type="password" name="password">

                    <div class="form-invalid">{{ render_error(form.password) }}</div>
                </li>
                <li>
                    <span>确认密码:</span><input type="password" name="password_confirm">

                    <div class="form-invalid">{{ render_error(form.password_confirm) }}</div>
                </li>
                <input type="submit" class="modify-password-submit" value="修改">
                {% if modify_success %}
                    <p>密码修改成功，下次登陆请使用新的密码</p>
                {% endif %}
            </ul>
        </form>
    </div>
{% endblock %}
